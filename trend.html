<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è¶¨å‹¢åˆ†æï½œå°ç£å¤±æ¥­ç‡</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+TC">
  <style>
    /* å…¨ç«™åŸºæœ¬æ’ç‰ˆèˆ‡é…è‰²è¨­å®š */
    body {
      font-family: 'Noto Sans TC', sans-serif; /* å¥—ç”¨æ€æºé»‘é«” */
      background-color: #fdfcd9; /* èƒŒæ™¯æŸ”å’Œéµé»ƒ */
      margin: 0;
    }

    h2 {
      color: #21409a; /* æ·±è—ä¸»è‰²æ¨™é¡Œ */
      margin-top: 40px;
    }

    canvas {
      max-width: 100%; /* åœ–è¡¨éš¨å®¹å™¨ç¸®æ”¾ */
      margin-bottom: 40px;
    }

        /* æ¨™é ­æ¨£å¼ */
        .header {
          background-color: #21409a;
          color: white;
          padding: 20px 0;
          text-align: center;
          font-weight: bold;
          font-size: 2em;
        }

    /* å°è¦½åˆ—æ¨£å¼ */
        nav {
          background-color: #21409a;
          font-size: 1em;
          line-height: 1em;
        }
    
        nav a {
          display: inline-block;
          line-height: 2em;
          padding: 30px 50px;
          color: white;
          text-decoration: none;
          font-weight: bold;
        }
    
        nav a:hover {
          line-height: 2em;
          background-color: #880e4f;
        }
    
        .nav-wrapper a {
          font-size: 2em;        /* å­—é«”å¤§å°åŠ å¤§ */
          padding: 20px 40px;      /* æŒ‰éˆ•å…§è·è®Šå¤§ */
          min-width: 180px;        /* æœ€å°å¯¬åº¦ä¸€è‡´ */
          text-align: center;      /* æ–‡å­—ç½®ä¸­ */
        }
    
        .w3-bar .active {
          line-height: 2em;
          background-color: #800080 !important;
          color: white !important;
        }

    .footer {
      background-color: #21409a;
      color: white;
      text-align: center;
      padding: 16px;
      font-size: 0.95em;
    }

    .footer a {
      color: white;
      text-decoration: underline;
    }

    main {
      max-width: 1200px;
      margin: 40px auto;
      padding: 0 20px;
    }

    /* åœ–è¡¨èˆ‡èªªæ˜å€å¡Šå…±ç”¨æ’ç‰ˆæ¨£å¼ */
    .chart-section {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      align-items: center;
      margin-bottom: 60px;
    }

    .chart-section canvas {
      width: 100%;
      max-width: 700px; /* é™åˆ¶åœ–è¡¨å¯¬åº¦ä¸è¶…é 480px */
    }

    .chart-description {
      flex: 1;
      min-width: 300px;
      line-height: 1.8em;
    }

    .chart-description h3 {
      color: #21409a;
      font-size: 1.6em;
      margin-bottom: 10px;
    }

    .chart-description p, .chart-description li {
      font-size: 1.15em;
    }
  </style>
</head>
<body>
 <!-- é é¦– -->
  <header style="background-color: #21409a; color: white; text-align: center;">
    <div style="padding: 20px 0; font-size: 3em; line-height: 1.4em; font-weight: bold;">
      æ•¸æ“šä¹‹ä¸‹çš„ç¾å¯¦ï¼šé‡æ–°èªè­˜å°ç£å¤±æ¥­ç‡
    </div>
  </header>
  <!-- å°è¦½åˆ— -->
  <nav class="w3-bar w3-indigo" style="padding:0;">
    <div class="nav-wrapper" style="display: flex; justify-content: center; gap: 0px;">
      <a href="index.html" class="w3-bar-item w3-button w3-hover-white">é¦–é </a>
      <a href="trend.html" class="w3-bar-item w3-button w3-hover-white active">è¶¨å‹¢åˆ†æ</a>
      <a href="case.html" class="w3-bar-item w3-button w3-hover-white">å¯¦éš›æ¡ˆä¾‹</a>
      <a href="policy.html" class="w3-bar-item w3-button w3-hover-white">æ”¿ç­–å»ºè­°</a>
      <a href="source.html" class="w3-bar-item w3-button w3-hover-white">è³‡æ–™ä¾†æº</a>
    </div>
  </nav>


  <main>
    <!-- åœ–è¡¨ä¸€å€å¡Š -->
    <section class="chart-section">
      <canvas id="lineChart"></canvas>
      <div class="chart-description">
        <h3>å°ç£å¤±æ¥­ç¸½é‡çš„è®Šå‹•è¶¨å‹¢</h3>
        <p>å‘ˆç¾å¾æ°‘åœ‹67å¹´è‡³ä»Šçš„å¤±æ¥­äººå£è®ŠåŒ–ï¼Œåæ˜ å„æ™‚æœŸç”¢æ¥­è®Šé·èˆ‡ç¶“æ¿Ÿå¾ªç’°æ‰€å¸¶ä¾†çš„è¡æ“Šã€‚</p>
        <p><b>å…¬å¼ï¼š</b> å¤±æ¥­ç‡ = å¤±æ¥­äººæ•¸ Ã· å‹å‹•åŠ› Ã— 100%</p>
      </div>
    </section>

    <!-- åœ–è¡¨äºŒå€å¡Š -->
        <section class="chart-section">
          <canvas id="barChart"></canvas>
          <div class="chart-description">
            <h3>å°ç£å‹å‹•å¸‚å ´ç¸½é«”çµæ§‹è®ŠåŒ–</h3>
            <p>æ­¤å †ç–Šé•·æ¢åœ–åæ˜ å¤±æ¥­èˆ‡å°±æ¥­äººå£ç¸½é‡å¦‚ä½•éš¨æ™‚é–“æ”¹è®Šï¼Œå¯æ¨ä¼°ç”¢æ¥­å¸ç´èƒ½åŠ›è¶¨å‹¢ã€‚</p>
          </div>
        </section>

    <!-- åœ–è¡¨ä¸‰å€å¡Š -->
    <section class="chart-section">
      <canvas id="dualLineChart"></canvas>
      <div class="chart-description">
        <h3>åƒèˆ‡äº†ï¼Œå»æ²’è¢«é›‡ç”¨ï¼Ÿ</h3>
        <p>é›–ç„¶å‹å‹•åŠ›åƒèˆ‡ç‡ä¸Šå‡ï¼Œä½†å°±æ¥­å æ¯”å¢å¹…æœ‰é™ï¼Œåæ˜ éƒ¨åˆ†äººåŠ›è³‡æºç„¡æ³•è¢«å¸‚å ´å¸æ”¶ã€‚</p>
        <ul>
          <li>è—ç·šï¼š<b>å‹å‹•åŠ›åƒèˆ‡ç‡</b>ï¼ˆåƒèˆ‡æ‰¾å·¥ä½œçš„äººä½”æ•´é«”ï¼‰</li>
          <li>æ©˜ç·šï¼š<b>å°±æ¥­å æ¯”</b>ï¼ˆå¯¦éš›å°±æ¥­äººå£ä½”æ•´é«”ï¼‰</li>
        </ul>
      </div>
    </section>
  </main>

  <footer class="footer">
    ğŸ“© è¯çµ¡æˆ‘å€‘ Taron_Linï½œ<a href="#" onclick="openGmail()">blue8841269@gmail.com</a> ï½œ è³‡æ–™è¦–è¦ºåŒ–å°ˆæ¡ˆçµ„
  </footer>

  <script>
    // é–‹å•Ÿ Gmail ç™¼ä¿¡
    function openGmail() {
      const email = "blue8841269@gmail.com";
      const subject = encodeURIComponent("è©¢å•ï¼šå¤±æ¥­è¶¨å‹¢åˆ†æ");
      const body = encodeURIComponent("æ‚¨å¥½ï¼Œæˆ‘æƒ³äº†è§£å°ç£å¤±æ¥­ç‡è³‡æ–™çš„æ›´å¤šç´°ç¯€...");
      const gmailURL = `https://mail.google.com/mail/?view=cm&fs=1&to=${email}&su=${subject}&body=${body}`;
      window.open(gmailURL, '_blank');
    }

    // è¼‰å…¥åœ–è¡¨è³‡æ–™ JSON
    fetch("chart_data_embed.json")
      .then(res => res.json())
      .then(data => {

        // ====== åœ–è¡¨ä¸€ï¼šæ­·å¹´å¤±æ¥­äººæ•¸è®ŠåŒ– ======
        const labelsLine = data.line_chart_data.labels.slice(1); // ç§»é™¤ç¬¬ä¸€æ¬„æ¨™é¡Œ
        const datasetLine = data.line_chart_data.datasets[0];
        
        new Chart(document.getElementById('lineChart'), {
          type: 'line',
          data: {
            labels: labelsLine,
            datasets: [{
              label: 'å¤±æ¥­ç‡',
              data: datasetLine.data.slice(1),
              borderColor: '#114b87',       // æ·±è—è‰²
              backgroundColor: '#114b87',
              borderWidth: 4,
              fill: false,
              pointRadius: 0,
              tension: 0.1
            }]
          },
          options: {
            responsive: true,
            plugins: { legend: { display: false } },
            scales: {
              y: {
                min: 0,
                max: 0.07,  // 7%
                title: {
                  display: true,
                  text: 'å¤±æ¥­ç‡'
                },
                ticks: {
                  callback: value => (value * 100).toFixed(0) + '%'
                }
              },
              x: {
                title: {
                  display: true,
                  text: ''
                }
              }
            }
          }
        });
        
       // ====== åœ–è¡¨äºŒï¼šå †ç–Šé•·æ¢åœ– ======
       const barLabels = data.bar_chart_data.labels;
       const barDatasets = [
         {
           label: 'å°±æ¥­äººæ•¸',
           data: data.bar_chart_data.datasets[0].data,
           backgroundColor: '#114b87', // æ·±è—è‰²
           stack: 'stack1'
         },
         {
           label: 'å¤±æ¥­äººæ•¸',
           data: data.bar_chart_data.datasets[1].data,
           backgroundColor: '#f37021', // æ©˜è‰²
           stack: 'stack1'
         }
       ];
       
       new Chart(document.getElementById('barChart'), {
         type: 'bar',
         data: {
           labels: barLabels,
           datasets: barDatasets
         },
         options: {
           responsive: true,
           plugins: { legend: { position: 'top' } },
           scales: {
             x: {
               stacked: true,
               title: {
                 display: true,
                 text: 'å¹´ä»½'
               }
             },
             y: {
               stacked: true,
               min: 6000,
               max: 12500,
               title: {
                 display: true,
                 text: 'äººæ•¸ï¼ˆåƒäººï¼‰'
               }
             }
           }
         }
       });
       
        // ====== åœ–è¡¨ä¸‰ï¼šé›™æŠ˜ç·šåœ–ï¼ˆåƒèˆ‡èˆ‡å°±æ¥­ï¼‰ ======
        const dualLabels = data.dual_line_chart_data.labels;
        const dualDatasets = [
          {
            label: 'å‹å‹•åŠ›åƒèˆ‡ç‡(%)',
            data: data.dual_line_chart_data.datasets[0].data,
            borderColor: '#114b87', // æ·±è—è‰²
            backgroundColor: '#114b87',
            borderWidth: 4,
            fill: false,
            tension: 0.2,
            pointRadius: 0
          },
          {
            label: 'å°±æ¥­äººå£å 15æ­²ä»¥ä¸Šæ°‘é–“äººå£(%)',
            data: data.dual_line_chart_data.datasets[1].data,
            borderColor: '#f37021', // æ©˜è‰²
            backgroundColor: '#f37021',
            borderWidth: 4,
            fill: false,
            tension: 0.2,
            pointRadius: 0
          }
        ];
        
        new Chart(document.getElementById('dualLineChart'), {
          type: 'line',
          data: {
            labels: dualLabels,
            datasets: dualDatasets
          },
          options: {
            responsive: true,
            plugins: { legend: { position: 'top' } },
            scales: {
              y: {
                suggestedMin: 53,
                suggestedMax: 62,
                title: {
                  display: true,
                  text: 'ç™¾åˆ†æ¯” (%)'
                },
                ticks: {
                  callback: value => value + '%'
                }
              },
              x: {
                title: {
                  display: true,
                  text: 'å¹´ä»½'
                }
              }
            }
          }
        });
        
      })
      .catch(err => console.error("âŒ ç„¡æ³•è¼‰å…¥ chart_data_embed.json", err));
  </script>
</body>
</html>
